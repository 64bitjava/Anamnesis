<UserControl x:Class="Anamnesis.PoseModule.Views.Pose3DView"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:views="clr-namespace:Anamnesis.PoseModule.Views"
			 xmlns:ana="clr-namespace:Anamnesis.Styles.Controls"
			 mc:Ignorable="d" 
			 d:DesignHeight="512" d:DesignWidth="1024"
			 Loaded="OnLoaded"
			 DataContextChanged="OnDataContextChanged"
			 Unloaded="OnUnloaded">

	<Grid x:Name="ContentArea">
		<Border Grid.Row="1" Background="{DynamicResource MaterialDesignCardBackground}" CornerRadius="3" Margin="0, 3, 3, 3">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition/>
					<ColumnDefinition Width="128"/>
				</Grid.ColumnDefinitions>

				<Grid Grid.Column="0">
					<Grid.RowDefinitions>
						<RowDefinition/>
						<RowDefinition Height="Auto"/>
					</Grid.RowDefinitions>

					<Viewport3D x:Name="Viewport" Grid.Row="0">
						<ModelVisual3D>
							<ModelVisual3D.Content>
								<Model3DGroup>
									<AmbientLight Color="White"/>
								</Model3DGroup>
							</ModelVisual3D.Content>
						</ModelVisual3D>

						<ModelVisual3D x:Name="SkeletonRoot"/>

					</Viewport3D>

					<StackPanel Grid.Row="1" Orientation="Horizontal" Margin="3, 0, 0, 0">
						<Button Style="{StaticResource TransparentButton}" Content="Reset Camera" Click="OnFrameClicked" Padding="6, 0"/>
					</StackPanel>
					
				</Grid>


				<ScrollViewer HorizontalScrollBarVisibility="Disabled" Grid.Column="1">
					<ItemsControl ItemsSource="{Binding Skeleton.Bones}">
						<ItemsControl.ItemTemplate>
							<DataTemplate>
								<Grid>
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="32"/>
										<ColumnDefinition/>
									</Grid.ColumnDefinitions>

									<views:BoneView Grid.Column="0"/>

									<ana:TextBlock Grid.Column="1" Text="{Binding Tooltip}" VerticalAlignment="Center" FontWeight="Light" FontSize="11"/>
								</Grid>
							</DataTemplate>
						</ItemsControl.ItemTemplate>
					</ItemsControl>
				</ScrollViewer>

			</Grid>
		
		</Border>
	</Grid>
</UserControl>
